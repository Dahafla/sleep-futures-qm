# Sleep Futures Quant Research Project

Built with Python, CatBoost, pandas, statsmodels, and Streamlit

This project transforms my daily sleep data into a quant-style research pipeline, modeling next-day sleep performance and trading a synthetic derivatives contract ("Sleep Futures") whose payoff is tied to my Sleep Index.

It follows the exact structure used in quant finance:

- Data engineering
- Feature engineering
- Classification modeling
- Signal generation
- Backtesting
- PnL analysis
- Interactive dashboard

This makes it a unique **behavioral-finance + time-series modeling project with real forecasting, alpha signals, and a fully implemented trading simulation.**

# Core Concept

I define a Sleep Index:

$$
\text{SleepIndex}_t = \text{hours\_slept}_t - 7.5
$$

`A positive index = slept more than target.`
`A negative index = slept less.`

Then I define a synthetic futures contract:
$$
\text{Payoff}_t+1​ = 10 × \text{SleepIndex}_t+1
$$

The model forecasts whether tomorrow’s Sleep Index will be:

**Up → Go long**

**Down → Go short**

**Neutral → Stay flat**

**PnL** is determined by how well the model predicts tomorrow’s direction.

# Features
1. Data Pipeline

Load raw sleep CSV (Start, End, Duration, Restful, Restless)

Convert timestamps into a daily time series

Compute:

- Hours slept
- Sleep efficiency
- Bedtime in minutes
- Sleep Index (hours vs target)
- Reindex missing days

Save cleaned dataset to data/processed/sleep_daily.csv

2. Feature Engineering

The pipeline creates features used for prediction:

- 3-, 7-, and 14-day rolling mean of Sleep Index
- Sleep deficit vs 7.5h target
- Circadian drift (bedtime deviation)
- Weekend indicator
- Day-of-week one-hot encoding
- Regression target (raw SleepIndex(t+1))
- Classification target (direction: up / down / neutral)

**The classification target provides much stronger predictive performance than regression.**

3. CatBoost Classification Model

A CatBoostClassifier predicts the next-day direction of sleep performance.

Why CatBoost:

- Nonlinear learner
- Works well with small datasets
- Handles missing data
- Handles categorical features
- Used heavily in quant research for tabular signals

Metrics produced:

- Overall accuracy
- Directional accuracy (ignoring the neutral class)

4. Sleep Futures Contract

A synthetic derivative defined as:

$$
Payoff_{t+1} = 10 \times SleepIndex_{t+1}
$$
	​
The trading logic is:

`Predict Up → long`

`Predict Down → short`

`Predict Neutral → flat`

This generates a full PnL time series.

5. Backtesting Engine

The backtest computes:

- Daily PnL
- Cumulative PnL
- Sharpe ratio
- Max drawdown
- Trade log

This mirrors real quant backtesting infrastructure.

6. Streamlit Dashboard

The dashboard visualizes:

- Sleep Index over time
- Sleep volatility
- Strategy PnL
- Classification predictions

# Example Visualizations

Below are the charts generated by the pipeline, with explanations.

## 1. Daily Sleep Index

**Shows how many hours above/below target you slept each day.**

![Daily SLeep Index](charts/plot_sleep_index.png)

Interpretation:

Positive spikes = great sleep (+3 to +10 hours)

Negative spikes = undersleeping

The dashed zero line is “target sleep" reference

Variance shows how inconsistent or steady sleep habits are

This serves as the underlying time series for modeling.

## 2. Distribution of 7-Day Sleep Volatility

**Rolling volatility of SleepIndex over the past week.**

[Sleep Volatility](charts/plot_sleep_volatility.png)

Interpretation:

Most 7-day volatility is between 1.0 and 2.5

High volatility means irregular sleep patterns

Helps explain why forecasting sleep is harder during chaotic periods


3. Strategy Cumulative PnL

**The cumulative profit & loss from trading Sleep Futures based on model predictions.**

[Cumulative PnL](charts/plot_pnl_curve.png)

Interpretation:

The model produced positive cumulative PnL

Sharpe ratio > 9 indicates very high signal-to-noise

Max drawdown shows the worst peak-to-bottom decline

This demonstrates alpha generation from behavioral patterns


# Why This Project Matters

This project covers:

- Time-series forecasting
- Classification modeling
- Alternative data
- Feature engineering
- Alpha signal design
- Backtesting & PnL evaluation
- Behavioral modeling
- Interactive dashboards

This is directly analogous to:

- Predicting demand
- Predicting volatility regimes
- Predicting market direction
- Forecasting economic indicators
- Building signals for trading strategies

It demonstrates real quant skills in a personal, creative problem.

# Technology Stack
```bash
- Python
- pandas
- numpy
- matplotlib
- catboost
- scikit-learn
- statsmodels
- Visualization
- Matplotlib
- Streamlit
- Modeling
- CatBoostClassifier
- Rolling features
- Classification targets
- Volatility estimation
- Backtesting
- Custom long/short engine
- PnL simulation
- Drawdown tracking
- Sharpe ratio calculation
```